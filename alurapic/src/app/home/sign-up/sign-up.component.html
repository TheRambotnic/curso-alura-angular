<h4 class="text-center"> Register to embrace a new world!</h4>

<form #form="ngForm" class="form mt-4" [formGroup]="signupForm" (submit)="registrar()">
	<div class="form-group">
		<input #inputEmail formControlName="email" placeholder="email" class="form-control" autofocus />
		<ap-vmessage erro="Email é obrigatório" *ngIf="signupForm.get('email')?.errors?.required && form.submitted"></ap-vmessage>
		<ap-vmessage erro="Email não é válido" *ngIf="signupForm.get('email')?.errors?.email && form.submitted"></ap-vmessage>
	</div>

	<div class="form-group">
		<input formControlName="fullName" placeholder="Nome completo" class="form-control" />
		<ap-vmessage erro="Nome completo é obrigatório" *ngIf="signupForm.get('fullName')?.errors?.required && form.submitted"></ap-vmessage>
		<ap-vmessage erro="Nome completo deve ser maior que 2 caractéres" *ngIf="signupForm.get('fullName')?.errors?.minlength && form.submitted"></ap-vmessage>
		<ap-vmessage erro="Nome completo deve ser menor que 50 caractéres" *ngIf="signupForm.get('fullName')?.errors?.maxlength && form.submitted"></ap-vmessage>
	</div>

	<div class="form-group">
		<input formControlName="userName" placeholder="Nome de usuário" class="form-control" />
		<ap-vmessage erro="Nome de usuário é obrigatório" *ngIf="signupForm.get('userName')?.errors?.required && form.submitted"></ap-vmessage>
		<ap-vmessage erro="Nome de usuário deve ser maior que 2 caractéres" *ngIf="signupForm.get('userName')?.errors?.minlength && form.submitted"></ap-vmessage>
		<ap-vmessage erro="Nome de usuário deve ser menor que 30 caractéres" *ngIf="signupForm.get('userName')?.errors?.maxlength && form.submitted"></ap-vmessage>
		<ap-vmessage erro="Nome de usuário deve ser minúsculo" *ngIf="signupForm.get('userName')?.errors?.caixaBaixa && form.submitted"></ap-vmessage>

		<ap-vmessage erro="Nome de usuário já existe" *ngIf="signupForm.get('userName')?.errors?.userNameExiste"></ap-vmessage>
		<small *ngIf="signupForm.get('userName')?.valid" class="text-success">Nome de usuário disponível</small>
	</div>

	<div class="form-group">
		<input formControlName="password" type="password" placeholder="Senha" class="form-control" />
		<ap-vmessage erro="Senha é obrigatória" *ngIf="signupForm.get('password')?.errors?.required && form.submitted"></ap-vmessage>
		<ap-vmessage erro="Senha deve ser maior que 8 caractéres" *ngIf="signupForm.get('password')?.errors?.minlength && form.submitted"></ap-vmessage>
		<ap-vmessage erro="Senha deve ser menor que 16 caractéres" *ngIf="signupForm.get('password')?.errors?.maxlength && form.submitted"></ap-vmessage>
	</div>

	<!-- user pending ao usar validador assíncrono -->
	<!-- <button [disabled]="signupForm.invalid || signupForm.pending" type="submit" class="btn btn-primary btn-block">Registrar</button> -->
	<button type="submit" class="btn btn-primary btn-block">Registrar</button>

	<p>Já é usuário? <a [routerLink]="['']">Entrar!</a></p>
</form>